<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="modules" type="Microsoft.Practices.Prism.Modularity.ModulesConfigurationSection, Microsoft.Practices.Prism"/>
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration"/>
    <section name="auto-mappings" type="Gymnastika.Data.Configuration.AutomappingConfigurationSection, Gymnastika.Data"/>
  </configSections>
  <appSettings>
    <add key="DataProvider" value="SqlCe"/>
    <add key="DataServiceConnectionString" value="Data Source=Data\Gymnastika.sdf;Persist Security Info=False;"/>
  </appSettings>
  <modules>
    <module assemblyFile="Gymnastika.Modules.Sports.dll" moduleType="Gymnastika.Modules.Sports.SportsManagementModule, Gymnastika.Modules.Sports" moduleName="Sports" startupLoaded="false"/>
    <module assemblyFile="Gymnastika.Modules.Meals.dll" moduleType="Gymnastika.Modules.Meals.MealsManagementModule, Gymnastika.Modules.Meals" moduleName="Meals" startupLoaded="false"/>
  </modules>
  <auto-mappings>
    <assembly name="Gymnastika.Modules.Sports"/>
    <assembly name="Gymnastika.Modules.Meals"/>
    <assembly name="Gymanstika.Common"/>
  </auto-mappings>
  <unity>
    <typeAliases>
      <typeAlias alias="DataContext" type="Gymnastika.Repositories.LinqToSqlProvider.GymnastikaDataContext, Gymnastika.Repositories.LinqToSqlProvider"/>
      <typeAlias alias="IUserRepository" type="Gymnastika.Common.Repositories.IUserRepository, Gymnastika.Common"/>
    </typeAliases>
    <containers>
      <container>
        <register type="DataContext">
          <constructor>
            <param name="connection" type="System.String" value="Data Source=Data\Gymnastika.sdf;Persist Security Info=False;"/> 
          </constructor>
        </register>
        <register type="IUserRepository" mapTo="Gymnastika.Repositories.LinqToSqlProvider.UserRepository, Gymnastika.Repositories.LinqToSqlProvider"/>
      </container>
    </containers>
  </unity>
<startup><supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0"/></startup>	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="NHibernate" publicKeyToken="AA95F207798DFDB4" culture="neutral"/>
				<bindingRedirect oldVersion="0.0.0.0-3.0.0.4000" newVersion="3.0.0.4000"/>
			</dependentAssembly>
		</assemblyBinding>
	</runtime>
</configuration>
